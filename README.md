# Лабораторная работа №2: Мини-оболочка (Mini Shell)

## Описание проекта

Данный проект представляет собой реализацию упрощенной командной оболочки (shell) для работы с файловой системой. Оболочка поддерживает базовые операции с файлами и директориями, а также управление историей команд.

## Структура проекта

<pre>
.
├── src/                               # Исходный код
│   ├── commands/                      # Реализация команд
│   │   ├── cmd_cat.py                 # Команда cat
│   │   ├── cmd_cd.py                  # Команда cd
│   │   ├── cmd_cp.py                   # Команда cp
│   │   ├── cmd_grep.py                # Команда grep
│   │   ├── cmd_ls.py                   # Команда ls
│   │   ├── cmd_mv.py                   # Команда mv
│   │   ├── cmd_rm.py                   # Команда rm
│   │   ├── cmd_tar.py                  # Команда tar
│   │   ├── cmd_untar.py                # Команда untar
│   │   ├── cmd_zip.py                  # Команда zip
│   │   └── cmd_unzip.py                # Команда unzip
│   ├── mini_shell.py                   # Основная логика оболочки
│   ├── history.py                     # Управление историей команд
│   └── main.py                        # Точка входа в приложение
├── tests/                              # Unit тесты
├── uv.lock                             # Зависимости проекта
├── requirements.txt                    # Зависимости (альтернатива)
└── README.md                           # Документация
</pre>

## Как использовать

### Запуск программы

В корне проекта можно запустить оболочку командой:

```bash
python -m src.main
```

Или с указанием начальной директории:

```bash
python -m src.main <начальный_путь>
```

### Завершение работы

Для завершения работы оболочки можно использовать:
- Команду `exit` или `q`
- Комбинацию клавиш `Ctrl+D` (в Unix/Linux) или `Ctrl+Z` (в Windows)

## Реализованные команды

### cd - переход в директорию

```bash
cd [<path>]
cd ~
```

Переходит в указанную директорию. Если путь не указан, переходит в домашнюю директорию пользователя. Поддерживает использование тильды `~` для домашней директории.

**Примеры:**
```bash
cd Documents
cd ..
cd ~/Desktop
cd
```

---

### ls - список файлов и директорий

```bash
ls [-l] [<path1>, <path2>, ...]
```

Выводит список файлов и директорий. С флагом `-l` показывает детальную информацию (права доступа, размер, дата изменения).

**Примеры:**
```bash
ls
ls Documents
ls -l
ls -l Documents
```

---

### cat - вывод содержимого файла

```bash
cat <file>
```

Выводит содержимое указанного файла на экран.

**Примеры:**
```bash
cat file.txt
cat Documents/readme.txt
```

---

### cp - копирование файлов и директорий

```bash
cp [-r] <source> <destination>
```

Копирует файл или директорию из источника в назначение. Флаг `-r` необходим для рекурсивного копирования директорий.

**Примеры:**
```bash
cp file.txt file_copy.txt
cp -r folder backup_folder
cp file.txt Documents/
```

---

### mv - перемещение/переименование файлов и директорий

```bash
mv <source> <destination>
```

Перемещает или переименовывает файл/директорию. Если назначение - директория, файл перемещается в эту директорию.

**Примеры:**
```bash
mv old.txt new.txt
mv file.txt Documents/
mv folder new_folder
```

---

### rm - удаление файлов и директорий

```bash
rm [-r] <path>
```

Удаляет указанный файл или директорию. Флаг `-r` необходим для удаления директорий. Файлы перемещаются в корзину `~/.trash` вместо полного удаления.

**Примеры:**
```bash
rm file.txt
rm -r folder
```

**Примечание:** При удалении директорий запрашивается подтверждение.

---

### grep - поиск по шаблону в файлах

```bash
grep [-r] [-i] <pattern> <path>
```

Ищет указанный шаблон в файлах. Поддерживает регулярные выражения Python.
- Флаг `-r` - рекурсивный поиск в директории
- Флаг `-i` - поиск без учета регистра

**Примеры:**
```bash
grep "hello" file.txt
grep -i "error" log.txt
grep -r "function" src/
```

---

### tar - создание tar.gz архива

```bash
tar <folder> <archive.tar.gz>
```

Создает сжатый tar.gz архив из указанной директории.

**Примеры:**
```bash
tar Documents archive.tar.gz
tar project project_backup.tar.gz
```

---

### untar - распаковка tar.gz архива

```bash
untar <archive.tar.gz>
```

Распаковывает содержимое tar.gz архива в текущую директорию.

**Примеры:**
```bash
untar archive.tar.gz
untar backup.tar.gz
```

---

### zip - создание ZIP архива

```bash
zip <folder> <archive.zip>
```

Создает ZIP архив из указанной директории со всем содержимым.

**Примеры:**
```bash
zip Documents archive.zip
zip project project.zip
```

---

### unzip - распаковка ZIP архива

```bash
unzip <archive.zip>
```

Распаковывает содержимое ZIP архива в текущую директорию.

**Примеры:**
```bash
unzip archive.zip
unzip backup.zip
```

---

### history - история команд

```bash
history
```

Выводит историю выполненных команд в текущей сессии.

---

### undo - отмена последней команды

```bash
undo
```

Отменяет действие последней выполненной команды (где это возможно). Поддерживается для команд `cp`, `mv`, `rm`.

---

